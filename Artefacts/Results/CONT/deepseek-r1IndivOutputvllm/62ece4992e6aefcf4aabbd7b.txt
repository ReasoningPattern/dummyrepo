

import os

def write_configuration(config_filename, rendered_config, mode=0o600, overwrite=False):
    if overwrite or not os.path.exists(config_filename):
        with open(config_filename, mode) as f:
            f.write(rendered_config)
    else:
        raise ValueError(f"File {config_filename} exists and overwrite is False; cannot proceed.")