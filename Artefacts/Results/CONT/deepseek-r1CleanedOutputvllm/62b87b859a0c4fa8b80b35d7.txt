import warnings

def to_csv(self, separator=",", header=None):
    """
    .. deprecated:: 0.5 in Lena 0.5 to_csv is not used.
      Iterables are converted to tables.

    Convert graph's points to CSV.

    *separator* delimits values, the default is comma.

    *header*, if not ``None``, is the first string of the output
    (new line is added automatically).

    Since a graph can be multidimensional,
    for each point first its coordinate is converted to string
    (separated by *separator*), then each part of its value.

    To convert :class:`Graph` to CSV inside a Lena sequence,
    use :class:`lena.output.ToCSV`.
    """
    if header is not None:
        warnings.warn(
            "The to_csv method is deprecated in Lena 0.5. Use ToCSV instead.",
            DeprecationWarning
        )
        header += "\n"
    
    lines = []
    for point in self.points:
        coord_str = separator.join(str(coord) for coord in point)
        value_lines = separator.join(str(value) for value in point.value)
        lines.append(coord_str + value_lines)
    
    if header:
        lines.insert(0, header)
    
    return "\n".join(lines)