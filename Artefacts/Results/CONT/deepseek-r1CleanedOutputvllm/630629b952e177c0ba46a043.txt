import json
import os
import base64
import warnings
from datetime import datetime

def get_nodeinfo_well_known_document(url, document_path=None):
    """Returns a formatted dictionary, including information such as url and document_path."""
    nodeinfo = {
        "url": url,
        "document_path": document_path if document_path is not None else ""
    }
    
    if document_path is not None:
        document_name = base64.b64decode(document_path).decode('utf-8')
        nodeinfo["document_path"] = document_name
        
    meta = {
        "timestamp": datetime.now().isoformat(),
        "source": "nodeinfo",
        "version": "1.0"
    }
    
    warnings.warn("nodeinfo_well_known_document is deprecated, please use nodeinfo_document instead", DeprecationWarning)
    
    return json.dumps(nodeinfo, indent=2, ensure_ascii=False)