def check_digests_present_and_used(self, manifest_files, digests_used):
    """
    Check all digests in manifest that are needed are present and used. Return error() in the class.
    """
    for digest in self.required_digests:
        if digest not in digests_used:
            raise self.error(f"Digest {digest} is required but not used")