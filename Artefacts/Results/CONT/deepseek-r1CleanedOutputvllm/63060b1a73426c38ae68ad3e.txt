import os
import yaml

def get_plugin_spec_flatten_dict(plugin_dir):
    """
    Use YAML to read various information in plugin_dir and return the information in dictionary form.
    """
    result_dict = {}
    
    for filename in os.listdir(plugin_dir):
        if filename.lower().endswith('.yaml'):
            file_path = os.path.join(plugin_dir, filename)
            with open(file_path, 'r', encoding='utf-8') as f:
                plugin_data = yaml.safe_load(f)
                
                for key, value in plugin_data.items():
                    if isinstance(key, str):
                        result_dict[key].append(value)
    
    return result_dict