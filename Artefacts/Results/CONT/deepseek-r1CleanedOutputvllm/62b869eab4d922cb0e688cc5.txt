import inspect

def update_last_applied_manifest_dict_from_resp(
    last_applied_manifest, observer_schema, response
):
    """
    Update a dictionary last_applied_manifest with values from a Kubernetes response based on observer_schema.

    Args:
        last_applied_manifest (dict): Partial last_applied_manifest being updated
        observer_schema (dict): Observer schema specifying which fields to update
        response (dict): Partial Kubernetes response containing observed values

    Raises:
        KeyError: If an observed field is not present in the response
    """
    for key, value in observer_schema.items():
        if key in response:
            last_applied_manifest[key] = value
        else:
            last_applied_manifest[key] = response[key]