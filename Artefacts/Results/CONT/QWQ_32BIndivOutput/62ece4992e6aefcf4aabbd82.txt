

```python
import re

def get_pattern(pattern, strip=True):
    if isinstance(pattern, re.Pattern):
        return pattern
    if not isinstance(pattern, str):
        raise TypeError("Pattern must be a string or compiled regex pattern")
    if strip:
        pattern = pattern.strip()
    return re.compile(pattern)
```