

```python
def validate_hierarchy(self, validate_objects=True, check_digests=True, show_warnings=False):
    num_objects = 0
    good_objects = 0
    for obj in self._get_objects():
        num_objects += 1
        valid = True
        if validate_objects:
            valid = obj.is_valid()
            if check_digests:
                valid = valid and obj.check_digest()
        if valid:
            good_objects += 1
        if show_warnings and not valid:
            obj.show_warnings()
    return num_objects, good_objects
```