

```python
def _get_conditionally_required_args(self, command_name, options_spec, args):
    required = []
    for opt in options_spec:
        if hasattr(opt, 'required_when') and opt.required_when(args):
            required.append(opt.name)
    return required
```