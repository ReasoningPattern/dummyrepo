import os
from select_filenames_by_prefix import select_filenames_by_prefix

def _group_files_by_xml_filename(source, xmls, files):
    """
    Groups files by xmls and returns data in dict format.
    """
    grouped = {}
    for xml in xmls:
        prefix = os.path.splitext(xml)[0]
        matched_files = select_filenames_by_prefix(prefix, files)
        grouped[xml] = matched_files
    return grouped