def update_last_applied_manifest_dict_from_resp(
    last_applied_manifest, observer_schema, response
):
    for key in observer_schema:
        if key not in response:
            raise KeyError(f"Key {key} not present in the Kubernetes response")
        if key not in last_applied_manifest:
            last_applied_manifest[key] = response[key]
        else:
            if isinstance(observer_schema[key], dict):
                update_last_applied_manifest_dict_from_resp(
                    last_applied_manifest[key],
                    observer_schema[key],
                    response[key]
                )