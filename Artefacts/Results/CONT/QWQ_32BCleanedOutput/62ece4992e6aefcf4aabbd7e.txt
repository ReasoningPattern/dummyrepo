import os

def _resolve_string(matcher):
    groups = matcher.groupdict()
    name = groups['name']
    default = groups.get('default')
    value = os.getenv(name)
    if value is not None:
        return value
    if default is not None:
        return default
    raise ValueError(f"Environment variable '{name}' is not set and no default provided")