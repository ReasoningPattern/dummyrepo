def parse_arguments(*unparsed_arguments):
    import argparse
    parser = argparse.ArgumentParser()
    subparsers = parser.add_subparsers(dest='subcommand')
    args = parser.parse_args(unparsed_arguments)
    result = {}
    global_namespace = argparse.Namespace()
    subcommand_namespace = argparse.Namespace()
    if args.subcommand:
        subparser = subparsers._name_parser_map.get(args.subcommand)
        if subparser:
            subcommand_args = [action.dest for action in subparser._actions if action.dest != 'help']
            for key, value in vars(args).items():
                if key == 'subcommand':
                    continue
                if key in subcommand_args:
                    setattr(subcommand_namespace, key, value)
                else:
                    setattr(global_namespace, key, value)
            result['global'] = global_namespace
            result[args.subcommand] = subcommand_namespace
        else:
            result['global'] = args
    else:
        result['global'] = args
    return result