

```python
def check_digests_present_and_used(self, manifest_files, digests_used):
    """
    Check all digests in manifest that are needed are present and used. Return error() in the class.
    """
    manifest_digests = set()
    for manifest in manifest_files:
        with open(manifest, 'r') as f:
            content = f.read()
        pattern = self.digest_regex()
        digest_matches = re.findall(pattern, content)
        manifest_digests.update(digest_matches)
    for digest in digests_used:
        if digest not in manifest_digests:
            self.error("Digest not found in manifest")
            return
    for digest in manifest_digests:
        if digest not in digests_used:
            self.error("Digest not used")
            return
```