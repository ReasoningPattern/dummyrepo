

```python
import traceback

def extostr(cls, e, max_level=30, max_path_level=5):
    """
    Format the exception as a string
    """
    exc_type = type(e)
    exc_value = e
    exc_traceback = e.__traceback__
    tb_lines = traceback.format_exception(exc_type, exc_value, exc_traceback)
    tb_lines = tb_lines[:max_path_level]
    return ''.join(tb_lines)
```