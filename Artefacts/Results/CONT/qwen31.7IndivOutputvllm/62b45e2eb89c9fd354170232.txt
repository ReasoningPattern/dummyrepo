

```python
def next_version(version):
    parts = list(map(int, version.split('.')))
    parts[-1] += 1
    if parts[-1] == 1000:
        parts[-2] += 1
        parts[-1] = 0
    if parts[-2] == 1000:
        parts[-1] = 0
        parts[-2] = 0
        parts[0] += 1
    return '.'.join(map(str, parts))
```