

```python
def check_digests_present_and_used(self, manifest_files, digests_used):
    """
    Check all digests in manifest that are needed are present and used. Return error() in the class.
    """
    required_digests = set()
    for manifest in manifest_files:
        required_digests.update(manifest.get('digests', []))
    used_set = set(digests_used)
    missing = required_digests - used_set
    if missing:
        self.error(f"Missing digests: {missing}")
```