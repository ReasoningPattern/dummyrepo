def _get_conditionally_required_args(self, command_name, options_spec, args):
    required_args = []
    for option in options_spec:
        required_when = getattr(option, 'required_when', None)
        if required_when:
            for arg_name in required_when:
                if arg_name in args:
                    required_args.append(option.name)
                    break  # Avoid adding the same option multiple times
    return required_args