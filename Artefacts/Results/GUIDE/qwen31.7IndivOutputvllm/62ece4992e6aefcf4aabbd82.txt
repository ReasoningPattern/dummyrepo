

```python
import re

def get_pattern(pattern, strip=True):
    if isinstance(pattern, re.Pattern):
        return pattern
    elif isinstance(pattern, str):
        processed_pattern = pattern.strip() if strip else pattern
        return re.compile(processed_pattern)
    else:
        raise ValueError(f"Invalid pattern type: {type(pattern)}")
```