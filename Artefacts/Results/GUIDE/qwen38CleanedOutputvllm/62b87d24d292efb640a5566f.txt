def render(pieces, style):
    """
    Input pieces and a style, render the pieces to the corresponding style.
    """
    style_map = {
        'plain': lambda s: s,
        'bold': lambda s: f'**{s}**',
        'italic': lambda s: f'*{s}*',
    }
    if style not in style_map:
        raise ValueError(f"Unsupported style: {style}")
    return ' '.join(style_map[style](piece) for piece in pieces)