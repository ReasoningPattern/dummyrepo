def string_to_int(string: str, alphabet: List[str]) -> int:
    """
    Convert a string to a number, using the given alphabet.
    :param string: a string consist of the letters in alphabet
    :param alphabet: list of letters
    :return: int, the corresponding number of the given string using the given transition rule.
    """
    if not alphabet:
        if string == '':
            return 0
        else:
            raise ValueError("Alphabet is empty but string is not empty")
    char_to_index = {char: idx for idx, char in enumerate(alphabet)}
    for char in string:
        if char not in char_to_index:
            raise ValueError(f"Character {char} not in alphabet")
    result = 0
    base = len(alphabet)
    for char in string:
        idx = char_to_index[char]
        result = result * base + idx
    return result