import os

def _group_files_by_xml_filename(source, xmls, files):
    """
    Groups files by xmls and returns data in dict format.
    """
    grouped = {}
    for xml in xmls:
        xml_base = os.path.splitext(xml)[0]
        grouped_files = []
        for file in files:
            file_base = os.path.splitext(file)[0]
            if file_base == xml_base:
                grouped_files.append(file)
        grouped[xml] = grouped_files
    return grouped