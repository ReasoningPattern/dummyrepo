from typing import Tuple, Set
import re

def find_tags(text: str, replacer: callable = None) -> Tuple[Set, str]:
    """
    Find tags in text, ignoring tags inside code blocks.
    Optionally replace the tag word with the result of the replacer function.
    """
    # Split text into parts, ignoring code blocks
    code_blocks = re.findall(r'