class MyClass:
    def __init__(self):
        self.hooks = {}

    def on(self, hook):
        def decorator(func):
            self.hooks[hook] = self.hooks.get(hook, []) + [func]
            return func
        return decorator