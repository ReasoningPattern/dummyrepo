import json
import subprocess

def _run_playbook(cli_args, vars_dict, ir_workspace, ir_plugin):
    """Runs Ansible CLI with provided variables and arguments."""
    command = ['ansible']
    command.append('--extra-vars')
    command.append(json.dumps(vars_dict))
    command.extend(cli_args)
    result = subprocess.run(command, capture_output=True, text=True)
    return result