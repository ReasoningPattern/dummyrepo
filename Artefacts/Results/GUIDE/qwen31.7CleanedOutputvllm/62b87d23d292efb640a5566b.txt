import subprocess

def run_command(commands, args, cwd=None, verbose=False, hide_stderr=False, env=None):
    for i, cmd in enumerate(commands):
        args_for_cmd = args[i]
        cmd_list = [cmd] + args_for_cmd
        process = subprocess.run(cmd_list, cwd=cwd, stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True, env=env, check=True)
        if verbose:
            print(process.stdout)
        if not hide_stderr:
            print(process.stderr)