def _include_groups(self, parser_dict):
    """
    Resolves the include dict directive in the spec files.
    """
    visited = set()
    
    def resolve(current, visited):
        current_id = id(current)
        if current_id in visited:
            raise ValueError("Circular include detected")
        visited.add(current_id)
        
        if 'include' in current:
            group_name = current['include']
            if group_name in self.groups:
                included = self.groups[group_name]
                resolved = resolve(included, visited)
                current.clear()
                current.update(resolved)
            else:
                raise KeyError(f"Group '{group_name}' not found")
        return current
    
    return resolve(parser_dict, visited)