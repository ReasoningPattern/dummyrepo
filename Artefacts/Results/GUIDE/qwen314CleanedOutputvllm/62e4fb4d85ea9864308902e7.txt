import shutil
import os
import pytest

def test_normalize_cmd_absolute_path():
    cmd = ('/usr/bin/python', 'arg1')
    assert normalize_cmd(cmd) == cmd

def test_normalize_cmd_relative_path():
    original_cmd = ('python', 'arg1')
    normalized = normalize_cmd(original_cmd)
    assert os.path.isabs(normalized[0])

def test_normalize_cmd_not_found():
    cmd = ('nonexistent', 'arg1')
    assert normalize_cmd(cmd) == cmd

def test_normalize_cmd_empty():
    assert normalize_cmd(()) == ()

def test_normalize_cmd_multiple_args():
    original_cmd = ('ls', '-l', '/tmp')
    normalized = normalize_cmd(original_cmd)
    assert os.path.isabs(normalized[0])

def normalize_cmd(cmd: tuple[str, ...]) -> tuple[str, ...]:
    """
    Complement the full path to exe and return it in its original form
    """
    if not cmd:
        return cmd
    executable = cmd[0]
    if os.path.isabs(executable):
        return cmd
    full_path = shutil.which(executable)
    if full_path:
        return (full_path,) + cmd[1:]
    else:
        return cmd