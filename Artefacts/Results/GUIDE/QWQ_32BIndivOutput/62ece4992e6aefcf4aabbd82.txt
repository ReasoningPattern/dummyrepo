

```python
import re

def get_pattern(pattern, strip=True):
    if isinstance(pattern, str):
        processed = pattern.strip() if strip else pattern
        return re.compile(processed)
    elif isinstance(pattern, re.Pattern):
        return pattern
    else:
        raise TypeError("pattern must be a string or a compiled regex pattern")
```