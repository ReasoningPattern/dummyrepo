

```python
def append_text_to_file(file_name, text_buffer, encoding, overwrite=False):
    """
    Writes the data in the text buffer to a file. If overwrite is True, the file is
    truncated before writing. Otherwise, the text is appended to the end of the file.
    """
    mode = 'w' if overwrite else 'a'
    with open(file_name, mode, encoding=encoding) as file:
        file.write(text_buffer)
```