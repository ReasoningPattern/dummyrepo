import os
import unittest.mock

def files_list(path):
    """
    Return the files in given path.
    """
    if not os.path.isdir(path):
        return []
    return [name for name in os.listdir(path) if os.path.isfile(os.path.join(path, name))]

def test_files_list():
    """Test cases for files_list function."""
    # Mock setup
    with unittest.mock.patch('os.path.isdir', return_value=True) as mock_dir,
         unittest.mock.patch('os.listdir', return_value=['file1.txt', 'hidden.txt']) as mock_list,
         unittest.mock.patch('os.path.isfile', return_value=True) as mock_file:
        # Test cases
        assert files_list('test_dir') == ['file1.txt', 'hidden.txt']
        assert files_list('test_file') == []
        assert files_list('/non/existent/path') == []
        assert files_list('mixed_dir') == ['file2.txt']

if __name__ == "__main__":
    test_files_list()