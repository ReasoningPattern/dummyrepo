import csv
from io import StringIO

def to_csv(self, separator=",", header=None):
    """
    .. deprecated:: 0.5 in Lena 0.5 to_csv is not used.
      Iterables are converted to tables.

    Convert graph's points to CSV.

    *separator* delimits values, the default is comma.

    *header* is the first string of the output (new line is added).
    """
    if not isinstance(self, (list, tuple)):
        raise TypeError("Expected list or tuple, got '{}'".format(type(self).__name__))
    
    lines = []
    if header is not None:
        lines.append(header)
    
    for point in self.points:
        if not isinstance(point, (list, tuple)):
            raise TypeError("Each point must be a list or tuple")
        
        coord = point[0]
        values = point[1]
        
        coord_str = ','.join(str(c) for c in coord)
        values_str = ','.join(str(v) for v in values)
        
        lines.append(f"{coord_str},{values_str}")
    
    return '\n'.join(lines)