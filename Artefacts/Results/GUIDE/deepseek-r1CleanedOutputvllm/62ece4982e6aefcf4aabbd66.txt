import os
import warnings

def was_processed(processed, path_name, verbose):
    """
    Check if a file or directory has already been processed.

    Args:
        processed: Set to store processed pathnames
        path_name: Path to a directory or file
        verbose: True if verbose output is requested

    Returns:
        True if it's already in the set. False if not.
    """
    try:
        abs_path = os.path.abspath(path_name)
    except OSError:
        return False
    
    if abs_path in processed:
        if verbose:
            warnings.warn(f"Skipping {abs_path} (already processed)", UserWarning)
        return True
    else:
        processed.add(abs_path)
        return False