from .text_buffer import TextBuffer

def file_to_textbuffer(file_name, encoding):
    """
    Load a file toward a text buffer.
    
    Args:
        file_name (str): The name of the file to load.
        encoding (str): The encoding to use when reading the file.
        
    Returns:
        TextBuffer: A text buffer containing the file's content.
        
    Raises:
        FileNotFoundError: If the specified file is not found.
        UnicodeDecodeError: If decoding the file fails.
    """
    try:
        with open(file_name, 'r', encoding=encoding) as f:
            content = f.read()
        return TextBuffer(content)
    except FileNotFoundError:
        raise
    except UnicodeDecodeError as e:
        raise ValueError(f"Could not decode file: {e}")