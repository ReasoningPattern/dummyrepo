def size_to_bytes(size: str) -> int:
    """
    Convert human readable file size to bytes

    Args:
            size: str, a string representing a human readable file size (eg: '500K')
    Returns:
            int: file size in bytes
    """
    unit_map = {
        'K': 1024,
        'M': 1024 ** 2,
        'G': 1024 ** 3,
        'T': 1024 ** 4,
        'P': 1024 ** 5,
        'E': 1024 ** 6,
    }
    
    size_upper = size.upper()
    parts = size_upper.split()
    
    if len(parts) != 2:
        raise ValueError("Invalid size format")
    
    number_str, unit = parts
    try:
        number = float(number_str)
    except ValueError:
        raise ValueError("Invalid number in size string")
    
    if unit not in unit_map:
        raise ValueError(f"Invalid unit '{unit}'")
    
    bytes_size = number * unit_map[unit]
    return int(bytes_size)