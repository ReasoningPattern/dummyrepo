def _get_conditionally_required_args(self, command_name, options_spec, args):
    result = []
    for arg in args:
        for option in options_spec:
            if option['required_when'] in args:
                result.append(arg)
                break
    return result