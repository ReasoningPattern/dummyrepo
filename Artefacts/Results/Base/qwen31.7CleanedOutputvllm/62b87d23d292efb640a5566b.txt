import subprocess

def run_command(commands, args, cwd=None, verbose=False, hide_stderr=False, env=None):
    for cmd, arg in zip(commands, args):
        process = subprocess.run(
            cmd, 
            args=arg, 
            cwd=cwd, 
            check=True, 
            stdout=subprocess.PIPE, 
            stderr=subprocess.PIPE,
            env=env,
            text=True
        )
        if verbose:
            print(f"Command {cmd} executed with return code {process.returncode}")
        if not hide_stderr:
            print(f"Stdout: {process.stdout}")
            print(f"Stderr: {process.stderr}")
    return