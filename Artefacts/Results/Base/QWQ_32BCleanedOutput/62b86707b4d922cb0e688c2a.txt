class Registry:
    __registry = {}

    def on(self, hook):
        """
        Return a decorator function to add a new handler to the "hook" in the registry in the class.
        """
        def decorator(func):
            if hook not in self.__class__.__registry:
                self.__class__.__registry[hook] = []
            self.__class__.__registry[hook].append(func)
            return func
        return decorator