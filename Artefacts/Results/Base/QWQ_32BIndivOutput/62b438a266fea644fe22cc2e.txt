

```python
import argparse

def parse_arguments(*unparsed_arguments):
    parser = argparse.ArgumentParser()
    parser.add_argument('--global-arg', action='store_true')
    subparsers = parser.add_subparsers(dest='command')
    
    add_parser = subparsers.add_parser('add')
    add_parser.add_argument('--file', type=str)
    
    main_args, remaining = parser.parse_known_args(unparsed_arguments)
    namespaces = {'global': main_args}
    
    if main_args.command:
        subparser = subparsers.choices.get(main_args.command)
        if subparser:
            sub_args = subparser.parse_args(remaining, namespace=argparse.Namespace())
            namespaces[main_args.command] = sub_args
    return namespaces
```