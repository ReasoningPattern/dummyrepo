Okay, I need to generate Python code based on the provided function signature and docstring. The function is called to_csv and it's a method, so it should take self as the first argument. The parameters are separator, which defaults to ",", and header, which defaults to None.

Looking at the docstring, it mentions that this function is deprecated and suggests using ToCSV instead. The purpose is to convert the graph's points into a CSV format. 

The function should handle multidimensional data. For each point, first, the coordinate is converted to a string, then each part of its value is separated by the separator. If header is not None, it's added as the first line, followed by a new line.

I'll start by creating an empty list to hold the rows. Then, for each point in self, I'll process them. For each point, I'll convert its key (coordinate) to a string and split it by the separator. Then, for each value in the point, I'll also split by the separator and join them back with the separator. This ensures that nested structures are properly formatted.

If header is provided, I'll add it as the first row and add a newline after it.

I should also include the doctest example they provided, which uses the ToCSV class in a Lena sequence. I'll format that as a doctest block.

I need to make sure the code is clean and follows Python conventions. The function will return None since it's a method that doesn't modify the object itself.

Putting it all together, I'll write the function, include the docstring, and the example. I'll ensure that the indentation is correct and that all parts are included as specified.
