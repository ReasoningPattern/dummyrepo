def hist_to_graph(hist, make_value=None, get_coordinate="left", field_names=("x", "y"), scale=None):
    """
    Convert a :class:`.hist` to a :class:`.graph`.

    *make_value* is a function to set the value of a graph's point.
    By default it is bin content.
    *get_coordinate* defines what the coordinate of a graph point will be.
    It can be "left" (default), "right" and "middle".

    *field_names* set field names of the graph. Their number must match the dimension of the result.
    For a *make_value* returning a tuple, the length must match the number of field names.
    *scale* becomes the graph's scale (unknown by default).
    """
    graph = Graph(field_names, scale=scale)
    for bin_ in hist:
        if get_coordinate == "left":
            x = bin_.lower_bound
        elif get_coordinate == "right":
            x = bin_.upper_bound
        elif get_coordinate == "middle":
            x = (bin_.lower_bound + bin_.upper_bound) / 2
        else:
            raise ValueError("Invalid get_coordinate value")
        
        if make_value is None:
            value = bin_.content
        else:
            value = make_value(bin_)
        
        point = (x,) + value
        graph.add_point(point)
    return graph