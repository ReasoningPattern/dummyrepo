import subprocess
import sys

def subprocess_run_helper(func, *args, timeout=None, extra_env=None):
    module_path = sys.modules[func.__module__].__file__
    command_list = ['python', module_path] + list(args) + [func.__name__]
    proc = subprocess.run(
        command_list,
        timeout=timeout,
        env=extra_env
    )
    return proc