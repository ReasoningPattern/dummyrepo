

```python
import socket

def is_local(host):
    """
    Checks if the host is the localhost,
    the localhost include local IP, user name, local domain name, `localhost` and `127.0.0.1`

    Args:
        host: The hostname or ip

    Returns:
        True if the host is the localhost else False
    """
    if host in ('localhost', '127.0.0.1'):
        return True
    local_hostname = socket.gethostname()
    local_fqdn = socket.getfqdn()
    if host == local_hostname or host == local_fqdn:
        return True
    try:
        addr_info = socket.getaddrinfo(host, None)
        machine_local_ips = set()
        for family, _, _, _, addr in socket.getaddrinfo(socket.gethostname(), None):
            if family in (socket.AF_INET, socket.AF_INET6):
                machine_local_ips.add(addr[0])
        for family, _, _, _, addr in addr_info:
            if family in (socket.AF_INET, socket.AF_INET6):
                if addr[0] in machine_local_ips:
                    return True
        return False
    except socket.error:
        return False
```