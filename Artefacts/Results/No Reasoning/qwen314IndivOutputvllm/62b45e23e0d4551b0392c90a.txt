<think>

</think>

```python
def validate_version_inventories(self, version_dirs):
    """
    Each version SHOULD have an inventory up to that point.

    Also keep a record of any content digests different from those in the root inventory
    so that we can also check them when validating the content.

    version_dirs is an array of version directory names and is assumed to be in
    version sequence (1, 2, 3...).
    """
    root_inventory = self._get_root_inventory()
    content_diffs = {}

    for version_dir in version_dirs:
        inventory = self._load_inventory(version_dir)
        if not inventory:
            raise ValueError(f"Inventory not found in version directory: {version_dir}")

        # Check if inventory is up to date
        if not self._is_inventory_up_to_date(inventory, root_inventory):
            raise ValueError(f"Inventory in version directory {version_dir} is not up to date")

        # Check for content digest differences
        diffs = self._compare_content_digests(inventory, root_inventory)
        if diffs:
            content_diffs[version_dir] = diffs

    return content_diffs
```