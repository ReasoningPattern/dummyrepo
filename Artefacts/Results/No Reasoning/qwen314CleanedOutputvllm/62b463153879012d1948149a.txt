def _group_files_by_xml_filename(source, xmls, files):
    """
    Groups files by xmls and returns data in dict format.
    """
    grouped = {}
    for xml in xmls:
        xml_base = xml.rsplit('.', 1)[0]
        grouped[xml_base] = []
    for file in files:
        file_base = file.rsplit('.', 1)[0]
        for xml_base in grouped:
            if xml_base in file_base:
                grouped[xml_base].append(file)
                break
    return grouped