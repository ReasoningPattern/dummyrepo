<think>

</think>

```python
def ansible_playbook(ir_workspace, ir_plugin, playbook_path, verbose=None,
                     extra_vars=None, ansible_args=None):
    """
    Wraps the 'ansible-playbook' CLI.

    :param ir_workspace: An Infrared Workspace object represents the active
    workspace
    :param ir_plugin: An InfraredPlugin object of the current plugin
    :param playbook_path: the playbook to invoke
    :param verbose: Ansible verbosity level
    :param extra_vars: dict. Passed to Ansible as extra-vars
    :param ansible_args: dict of ansible-playbook arguments to plumb down
        directly to Ansible.
    """
    import subprocess
    import os

    # Prepare the command
    cmd = ['ansible-playbook', playbook_path]

    # Add verbosity
    if verbose is not None:
        cmd.append('-v' * verbose)

    # Add extra variables
    if extra_vars:
        for key, value in extra_vars.items():
            cmd.append(f'--extra-vars="{key}={value}"')

    # Add custom ansible-playbook arguments
    if ansible_args:
        cmd.extend(ansible_args)

    # Execute the command
    result = subprocess.run(
        cmd,
        cwd=ir_workspace.path,
        env=os.environ.copy(),
        check=False,
        stdout=subprocess.PIPE,
        stderr=subprocess.PIPE,
        text=True
    )

    # Output the result
    ir_plugin.log.info("Ansible playbook output:")
    ir_plugin.log.info(result.stdout)
    ir_plugin.log.error(result.stderr)

    return result.returncode
```