<think>

</think>

```python
def extostr(cls, e, max_level=30, max_path_level=5):
    """
    Format the exception as a string
    """
    import traceback
    tb = traceback.extract_tb(e.__traceback__)
    lines = []
    for i, frame in enumerate(tb):
        if i >= max_level:
            break
        filename, line, func, text = frame
        if i < max_path_level:
            lines.append(f"{filename}:{line} in {func}")
        else:
            lines.append(f"...")
    return f"{e.__class__.__name__}: {e}\n{'\n'.join(lines)}"
```