def on(self, hook):
    """
    Return a decorator function to add a new handler to the "hook" in the registry in the class.
    """
    def decorator(func):
        if not hasattr(type(self), 'registry'):
            type(self).registry = {}
        if hook not in type(self).registry:
            type(self).registry[hook] = []
        type(self).registry[hook].append(func)
        return func
    return decorator