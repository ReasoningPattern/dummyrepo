def get_nested_custom_and_control_args(self, args):
    """
    Split input arguments to control nested and custom.

    Controls arguments: control the IR behavior. These arguments
        will not be put into the spec yml file
    Nested arguments: are used by the Ansible playbooks and will be put
        into the spec yml file.
    Custom arguments: Custom ansible variables to be used instead of the
        normal nested usage.

    :param args: the collected list of args.
    :return: (dict, dict): flat dicts (control_args, nested_args)
    """
    control_args = {}
    nested_args = {}
    for arg in args:
        if arg.startswith('--control-'):
            key = arg.split('=', 1)[0][10:]
            value = arg.split('=', 1)[1] if '=' in arg else True
            control_args[key] = value
        elif arg.startswith('--nested-'):
            key = arg.split('=', 1)[0][9:]
            value = arg.split('=', 1)[1] if '=' in arg else True
            nested_args[key] = value
        else:
            key = arg.split('=', 1)[0][2:] if arg.startswith('--') else arg
            value = arg.split('=', 1)[1] if '=' in arg else True
            nested_args[key] = value
    return control_args, nested_args