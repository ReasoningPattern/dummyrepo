

```python
def check_digests_present_and_used(self, manifest_files, digests_used):
    """
    Check all digests in manifest that are needed are present and used. Return error() in the class.
    """
    errors = []
    for file in manifest_files:
        digest = file.digest
        if digest not in digests_used:
            errors.append(f"Digest {digest} is present in manifest but not used.")
    if errors:
        return self.error("\n".join(errors))
    return None
```