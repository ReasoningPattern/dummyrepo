def extostr(cls, e, max_level=30, max_path_level=5):
    """
    Format the exception as a string
    """
    tb = e.__traceback__
    if not tb:
        return str(e)
    
    paths = []
    current_level = 0
    current = tb
    
    while current is not None and current_level < max_level:
        if current_level < max_path_level:
            paths.append(current.tb_path)
        current = current.tb_parent
        current_level += 1
    
    result = []
    for path in reversed(paths):
        type_name = type(path).__name__
        message = path[1]
        result.append(f"{type_name}: {message}")
    return '\n'.join(result)