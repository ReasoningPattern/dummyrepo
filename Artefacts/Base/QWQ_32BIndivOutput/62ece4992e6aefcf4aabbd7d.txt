

```python
import subprocess
import os

def subprocess_run_helper(func, *args, timeout, extra_env=None):
    mod = func.__module__
    fname = func.__name__
    script = f'from {mod} import {fname}; {fname}(*sys.argv[1:])'
    cmd = ['python', '-c', script]
    cmd.extend(args)
    env = os.environ.copy()
    if extra_env:
        env.update(extra_env)
    return subprocess.run(cmd, timeout=timeout, env=env, capture_output=True)
```